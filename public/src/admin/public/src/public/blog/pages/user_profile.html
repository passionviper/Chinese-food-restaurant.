<div ng-include="'pages/header.html'"></div>
<div class="col-sm-12">
  <div class="profile_content">
		
  	<div class="container" ng-show="userBlogs">
					<div class="col-sm-12">
						<button style="margin-top: 26px;" ng-click="clearScope();userBlogs=false;addBlogButton=true" class=" btn btn-default pull-left">Add New Post</button>
						<span style="text-align: center;"><h3 style="padding:10px 10px;"><b>Your Posts</b></h3></span>
					</div>
					<div ng-show="BlogPostFlashMessage" class="col-sm-4 alert alert-success fade in div_pos ">
            <a href=""  class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Success!</strong> Blog Posted/Updated succesfully :)
	    		</div>
					
					
					<div class="no-post-profile" ng-show="no_data_div" style="">You are yet to post any Blog! </div>
          <div ng-repeat="blogs in getBlogs track by $index">
            	<div class="clearfix" ng-if="$index % 3 == 0"></div>
	            
			    	<div class="col-sm-4 mar_bottom hover_div">
			    	<a href="#article/{{blogs._id}}">
		    	      <div class="img-wrapper" ng-if="blogs.imageUrl!=''">
		    	        <img ng-src="{{blogs.imageUrl}}" class="img-responsive">
		    	      </div>
		    	      <div class="img-wrapper" ng-if="blogs.imageUrl==''">
		    	        <img src="http://english.tw/wp-content/themes/qaengine/img/default-thumbnail.jpg" class="img-responsive">
		    	      </div>
		    	    	<h4><b><p><a href="">{{blogs.title}}</a></p></b></h4>	
	    	  			 <p>
									 By <span class="img_title text-capitalize">{{blogs.author}}</span> | {{blogs.updated_at | date}} 
									 <span class="pull-right">
										 <a href="" ng-click="getBlogId(blogs._id,blogs.title,blogs.imageUrl,blogs.body)">Edit</a>&nbsp;
									 	 <a href="" data-toggle="modal" data-target="#deleteBlog{{blogs._id}}">Delete</a>
									 </span>
								</p> 
								
			    	</a>
                      <!--Pop up delete-->
                          <!-- Modal -->
                          <div class="modal fade" id="deleteBlog{{blogs._id}}" role="dialog">
                            <div class="modal-dialog">
                            
                              <!-- Modal content-->
                              <div class="modal-content">
                                <div class="modal-header">
                                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                                  <h4 class="modal-title">Delete</h4>
                                </div>
                                <div class="modal-body">
                                  <p>Are you sure you want to delete this blog?</p>
                                </div>
                                <div class="modal-footer">
                                   <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                                  <button ng-click="deleteBlog(blogs._id)" type="button" class="btn btn-default" data-dismiss="modal">Yes</button>
                                </div>
                              </div>
                              
                            </div>
                          </div>
                        <!--Pop up ends-->
		    		</div>
		    	
		    </div> 	
      
      		<div class="col-sm-12 blog-pages" ng-hide="hidePagination">
			      <button class="page-btn page-lg-btn" href="" ng-disabled="value" ng-click="pagingPrev(page);activeButton = 0">Previous</button>
			      <button class="page-btn" href="" ng-class="{active : activeButton == 0}" ng-disabled="disable(0)" ng-click="pagination(0);activeButton=0">{{page*10+1}}</button>
			      <button class="page-btn" href="" ng-class="{active : activeButton == 1}" ng-disabled="disable(1)" ng-click="pagination(1);activeButton = 1">{{page*10+2}}</button>
			      <button class="page-btn" href="" ng-class="{active : activeButton == 2}" ng-disabled="disable(2)" ng-click="pagination(2);activeButton = 2">{{page*10+3}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 3}"  href="" ng-disabled="disable(3)" ng-click="pagination(3);activeButton = 3">{{page*10+4}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 4}" href="" ng-disabled="disable(4)" ng-click="pagination(4);activeButton = 4">{{page*10+5}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 5}" href="" ng-disabled="disable(5)" ng-click="pagination(5);activeButton = 5">{{page*10+6}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 6}" href="" ng-disabled="disable(6)" ng-click="pagination(6);activeButton = 6">{{page*10+7}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 7}" href="" ng-disabled="disable(7)" ng-click="pagination(7);activeButton = 7">{{page*10+8}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 8}" href=""  ng-disabled="disable(8)" ng-click="pagination(8);activeButton = 8">{{page*10+9}}</button>
			      <button class="page-btn" ng-class="{active : activeButton == 9}" href="" ng-disabled="disable(9)" ng-click="pagination(9);activeButton = 9">{{page*10+10}}</button>
			      <button class="page-btn page-lg-btn" class="btn-pageno"  href="" ng-disabled="disable(9)" ng-click="pagingNext(page);activeButton = 0">Next</button>
				 </div>
    </div>
		<div class="container" ng-hide="userBlogs">
				<div class="col-sm-12">
						<button style="margin-top: 26px;" ng-click="userBlogs=true;addBlogButton=false" class=" btn btn-default pull-left">Show My Blogs</button>
						<span style="text-align: center;"><h3 style="padding:10px 10px;"><b>Add Posts</b></h3></span>
				</div>
				<div class="col-sm-12"    style=" margin-top: 35px;">
						<div class="col-sm-12">
								<div class="col-sm-6">
									<form class="form-horizontal" role="form">
													<div class="form-group">
													<label class="col-sm-3">Title</label>
														<div class="col-sm-9">  
															<input ng-model="title" class="form-control input-sm"  placeholder="Title">
														</div>     
													</div>
													<div class="form-group">
														<label class="col-sm-3">Title Image url:</label>
														<div class="col-sm-9">  
															<input ng-model="imageUrl" class="form-control input-sm"  placeholder="Image Url">
														</div>     
													</div>
									</form>
								</div>
							
							</div>

							<div class="col-sm-12">
						
							<h3>Blog Article Editor</h3>
					
							<textarea ckeditor="editorOptions" ng-model="body"></textarea>
				
						</div>
						<div class="col-sm-12 mar_top20">
								<div class="col-sm-6" ng-if="addBlogButton==true">
									<button class="btn btn-success btn-default" type="button" ng-click="addBlog()"> Add New Blog</button>
								</div>

								<div class="col-sm-6" ng-if="addBlogButton==false">
										<button class="btn btn-success btn-default" type="button" ng-click="updateBlog(title,imageUrl,body)"> Update Blog</button>       
									</div>
						</div>
						<div style="margin-top:1000px">
							.
						</div>	       
				
			 </div>
		</div>
			

  </div>

</div>
<div ng-include="'pages/footer.html'"></div>

<script>
	CKEDITOR.editorConfig = function (config) {
    config.language = 'es';
    config.uiColor = '#F7B42C';
    config.height = 300;
    config.toolbarCanCollapse = true;

};
CKEDITOR.replace('editor1');
	</script>